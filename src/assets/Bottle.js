import * as React from 'react';
import Svg, {Path, G} from 'react-native-svg';
import Animated, {
  Easing,
  withTiming,
  interpolate,
  Extrapolation,
} from 'react-native-reanimated';
import {colors} from '../constans/colors';

const AnimatedPath = Animated.createAnimatedComponent(Path);

export const BottleSvg = props => {
  const {value} = props;
  const animatedFillHeight = withTiming((value / 240) * 350, {
    duration: 1000,
    easing: Easing.linear,
  });

  const height = interpolate(
    animatedFillHeight().current,
    [1, 360],
    [415, 1],
    Extrapolation.CLAMP,
  );

  const fillHeight = interpolate(
    animatedFillHeight().current,
    [360, 2],
    [423, 1],
    Extrapolation.CLAMP,
  );

  return (
    <Svg
      xmlns="http://www.w3.org/2000/svg"
      xmlSpace="preserve"
      width={250}
      height={350}
      viewBox="0 0 423.978 423.978"
      {...props}>
      <G>
        <AnimatedPath
          // d="m260.354 188.604-3.175-10.222a339.388 339.388 0 0 1-12.388-58.809l-11.433-96.022h3.625V9.87c0-5.442-4.428-9.87-9.869-9.87h-30.249c-5.441 0-9.869 4.428-9.869 9.87v13.681h3.645l-11.238 95.451a339.21 339.21 0 0 1-12.646 59.918l-2.935 9.693c-10.161 33.008-15.314 67.207-15.314 101.65v92.526c0 22.712 18.478 41.189 41.189 41.189h44.583c22.712 0 41.189-18.477 41.189-41.189v-92.868c.001-34.422-5.082-68.504-15.115-101.317zM194.996 9.87c0-1.031.839-1.87 1.869-1.87h30.248c1.03 0 1.869.839 1.869 1.87v5.681h-33.986V9.87zm30.306 13.681 7.737 64.976h-41.992l7.65-64.976h26.605zm42.168 359.238c0 18.3-14.889 33.189-33.189 33.189h-44.584c-18.3 0-33.189-14.889-33.189-33.189v-92.526c0-33.644 5.034-67.052 14.967-99.314l2.935-9.693a347.183 347.183 0 0 0 12.939-61.318l2.756-23.412h43.886l2.857 23.993a347.46 347.46 0 0 0 12.686 60.217l3.175 10.223c9.795 32.037 14.762 65.332 14.762 98.961v92.869h-.001z"
          d={`M0 0 H128 V${height} H0 Z`}
          style={{
            fill: colors.mint_green,
            transformOrigin: 'center bottom',
            transform: [
              {
                translateY: fillHeight,
              },
              {
                translateX: 149,
              },
            ],
          }}
        />
      </G>
      <Path d="m260.354 188.604-3.175-10.222a339.388 339.388 0 0 1-12.388-58.809l-11.433-96.022h3.625V9.87c0-5.442-4.428-9.87-9.869-9.87h-30.249c-5.441 0-9.869 4.428-9.869 9.87v13.681h3.645l-11.238 95.451a339.21 339.21 0 0 1-12.646 59.918l-2.935 9.693c-10.161 33.008-15.314 67.207-15.314 101.65v92.526c0 22.712 18.478 41.189 41.189 41.189h44.583c22.712 0 41.189-18.477 41.189-41.189v-92.868c.001-34.422-5.082-68.504-15.115-101.317zM194.996 9.87c0-1.031.839-1.87 1.869-1.87h30.248c1.03 0 1.869.839 1.869 1.87v5.681h-33.986V9.87zm30.306 13.681 7.737 64.976h-41.992l7.65-64.976h26.605zm42.168 359.238c0 18.3-14.889 33.189-33.189 33.189h-44.584c-18.3 0-33.189-14.889-33.189-33.189v-92.526c0-33.644 5.034-67.052 14.967-99.314l2.935-9.693a347.183 347.183 0 0 0 12.939-61.318l2.756-23.412h43.886l2.857 23.993a347.46 347.46 0 0 0 12.686 60.217l3.175 10.223c9.795 32.037 14.762 65.332 14.762 98.961v92.869h-.001z" />
    </Svg>
  );
};
